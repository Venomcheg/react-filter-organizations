(this["webpackJsonpmein-kampf"]=this["webpackJsonpmein-kampf"]||[]).push([[0],{46:function(e,t,a){},69:function(e,t,a){},75:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(30),s=a.n(r),d=a(16),l=a(17),o=a(21),i=a(20),u=a(31),j=a.n(u),m=a(36),b="ITEM_",O="MODAL_",f={GET:"".concat(b,"GET"),DELETE:"".concat(b,"DELETE"),ADD:"".concat(b,"ADD")},h={ADD:"".concat(O,"ADD"),DELETESHOW:"".concat(O,"DELETESHOW"),DELETEHIDE:"".concat(O,"DELETEHIDE"),TEMPLATE:"".concat(O,"TEMPLATE"),PHONE:"".concat(O,"PHONE"),ADDRESS:"".concat(O,"ADDRESS")},p={ADDTEXT:"".concat("FILTER_","ADDTEXT")},x=function(){return fetch("data.json").then((function(e){return e.json()}))},E=(a(68),a(69),a(13)),v=function(){return function(e){e({type:h.ADD})}},_=(a(75),a(2)),y=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.props.item,a=t.address,n=t.phone,c=t.manager,r=t.administrator,s=t.status;return Object(_.jsxs)("tr",{className:"table-item",children:[Object(_.jsx)("td",{"data-label":"\u2116",children:this.props.index}),Object(_.jsxs)("td",{"data-label":"\u0410\u0434\u0440\u0435\u0441",className:"table-item__address",children:[a,Object(_.jsx)("p",{className:"table-item__city",children:"\u041d\u043e\u0432\u043e\u0441\u0438\u0431\u0438\u0440\u0441\u043a"})]}),Object(_.jsx)("td",{"data-label":"\u0422\u0435\u043b\u0435\u0444\u043e\u043d",children:n.map((function(e){return Object(_.jsx)("div",{children:e})}))}),Object(_.jsx)("td",{"data-label":"\u0423\u043f\u0440\u0430\u0432\u043b\u044f\u044e\u0449\u0438\u0439 \u043e\u0444\u0438\u0441\u0430",children:c}),Object(_.jsx)("td",{"data-label":"\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440 \u043e\u0444\u0438\u0441\u0430",children:r}),Object(_.jsx)("td",{"data-label":"\u0421\u0442\u0430\u0442\u0443\u0441",children:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0439"==s?Object(_.jsx)("div",{className:"table-item__status table-item__status--active",children:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0439"}):Object(_.jsx)("div",{className:"table-item__status table-item__status--unactive",children:"\u041d\u0435\u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0439"})}),Object(_.jsx)("td",{"data-label":"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f",children:Object(_.jsx)("button",{onClick:function(){return e.props.deleteModalShow(e.props.item)},className:"close"})})]})}}]),a}(n.Component),D=Object(E.b)(null,{deleteModalShow:function(e){return function(t,a){a().modalsReducer.modalItem;t({type:h.DELETESHOW,payload:e})}}})(y),N=(a(77),function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(_.jsx)("th",{children:this.props.filter})}}]),a}(n.Component)),T=(a(46),a(83)),M=a(60);var w=Object(E.b)((function(e){return{showModal:e.modalsReducer.addModal,phone:e.itemsReducer.newItem.phone,address:e.itemsReducer.newItem.address}}),{addModal:v,addItem:function(e){return function(t,a){e.preventDefault();var n=a().itemsReducer.items.slice(),c=a().itemsReducer.newItem;c.id=Date.now().toString(),n.push(c),t({type:f.ADD,payload:n}),t({type:h.ADD})}},addPhone:function(e){return function(t){var a=e.target.value;t({type:h.PHONE,payload:a})}},addAddress:function(e){return function(t){var a=e.target.value;t({type:h.ADDRESS,payload:a})}}})((function(e){var t=Object(n.useRef)(),a=Object(n.useCallback)((function(t){"Escape"===t.key&&e.showModal&&e.addModal()}));return Object(n.useEffect)((function(){return document.addEventListener("keydown",a),function(){return document.removeEventListener("keydown",a)}})),Object(_.jsx)("article",{ref:t,onClick:function(a){t.current===a.target&&e.addModal()},className:"modal-form",children:Object(_.jsxs)("div",{className:"modal-form__wrap",children:[Object(_.jsxs)("div",{className:"modal-form__header",children:[Object(_.jsx)("h3",{className:"modal-form__title",children:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0444\u0438\u043b\u0438\u0430\u043b\u0430"}),Object(_.jsx)("button",{className:"close modal-form__close",type:"button",onClick:function(){return e.addModal()}})]}),Object(_.jsx)("div",{className:"modal-form__content",children:Object(_.jsxs)("form",{onSubmit:function(t){return e.addItem(t)},children:[Object(_.jsxs)("div",{className:"modal-form__item",children:[Object(_.jsx)("label",{className:"modal-form__label",htmlFor:"",children:"\u0410\u0434\u0440\u0435\u0441"}),Object(_.jsx)(T.a,{className:"modal-form__input",type:"text",value:e.address,onChange:function(t){return e.addAddress(t)},required:!0,defaultValue:"0571"})]}),Object(_.jsxs)("div",{className:"modal-form__item",children:[Object(_.jsx)("label",{className:"modal-form__label",htmlFor:"",children:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"}),Object(_.jsx)(T.a,{className:"modal-form__input",pattern:"[789][0-9]{9}",type:"phone",value:e.phone,onChange:function(t){return e.addPhone(t)},required:!0})]}),Object(_.jsxs)("div",{className:"modal-form__controls",children:[Object(_.jsx)(M.a,{className:"btn",type:"submit",htmlType:"submit",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),Object(_.jsx)(M.a,{className:"btn btn--cancel",type:"button",onClick:function(){return e.addModal()},children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})]})})]})})}));a(78);var I=Object(E.b)((function(e){return{showModal:e.modalsReducer.deleteModal,item:e.modalsReducer.modalItem}}),{deleteItem:function(e){return function(t,a){var n=a().itemsReducer.items.slice().filter((function(t){return t.id!==e.id}));t({type:f.DELETE,payload:n}),t({type:h.DELETEHIDE})}},deleteModalHide:function(){return function(e,t){t().modalsReducer.modalItem;e({type:h.DELETEHIDE,payload:{}})}}})((function(e){var t=Object(n.useRef)(),a=Object(n.useCallback)((function(t){"Escape"===t.key&&e.showModal&&e.deleteModalHide()}));return Object(n.useEffect)((function(){return document.addEventListener("keydown",a),function(){return document.removeEventListener("keydown",a)}})),Object(_.jsx)("article",{ref:t,onClick:function(a){t.current===a.target&&e.deleteModalHide()},className:"modal-form",children:Object(_.jsxs)("div",{className:"modal-form__wrap",children:[Object(_.jsxs)("div",{className:"modal-form__header",children:[Object(_.jsx)("h3",{className:"modal-form__title",children:"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0444\u0438\u043b\u0438\u0430\u043b\u0430"}),Object(_.jsx)("button",{className:"close modal-form__close",onClick:function(){return e.deleteModalHide()}})]}),Object(_.jsxs)("div",{className:"modal-form__content",children:[Object(_.jsxs)("div",{className:"modal-form__content--text",children:[Object(_.jsx)("p",{className:"modal-form__approve-text",children:"\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0444\u0438\u043b\u0438\u0430\u043b:"}),Object(_.jsx)("p",{className:"modal-form__address",children:e.item.address})]}),Object(_.jsxs)("div",{className:"modal-form__controls",children:[Object(_.jsx)(M.a,{className:"btn btn--delete",type:"submit",onClick:function(){return e.deleteItem(e.item)},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"}),Object(_.jsx)(M.a,{className:"btn btn--cancel",type:"button",onClick:function(){return e.deleteModalHide()},children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})]})]})})})),k=(a(79),a(57)),R=function(e){return e.itemsReducer.items},A=function(e){return e.filterReducer.searchText},L=Object(k.a)(R,A,(function(e,t){var a=[];return e.map((function(e){var n=0;for(var c in e)String(e[c]).includes(t)&&n++;n&&a.push(e)})),a})),S=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(_.jsxs)("div",{children:[Object(_.jsxs)("table",{className:"main-table",children:[Object(_.jsx)("thead",{className:"main-table__head",children:Object(_.jsxs)("tr",{className:"main-table__row",children:[Object(_.jsx)(N,{filter:"\u2116"}),Object(_.jsx)(N,{filter:"\u0410\u0434\u0440\u0435\u0441"}),Object(_.jsx)(N,{filter:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"}),Object(_.jsx)(N,{filter:"\u0423\u043f\u0440\u0430\u0432\u043b\u044f\u044e\u0449\u0438\u0439 \u043e\u0444\u0438\u0441\u0430"}),Object(_.jsx)(N,{filter:"\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440 \u043e\u0444\u0438\u0441\u0430"}),Object(_.jsx)(N,{filter:"\u0421\u0442\u0430\u0442\u0443\u0441"}),Object(_.jsx)(N,{filter:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"})]})}),Object(_.jsx)("tbody",{children:this.props.items&&this.props.items.map((function(e,t){return Object(_.jsx)(D,{index:t+1,item:e},e.id)}))})]}),this.props.deleteModal&&Object(_.jsx)(I,{}),this.props.addModal&&Object(_.jsx)(w,{})]})}}]),a}(n.Component),g=Object(E.b)((function(e){var t=e.modalsReducer,a=t.deleteModal,n=t.addModal;return{items:A(e)?L(e):R(e),deleteModal:a,addModal:n}}),null)(S),C=(a(80),function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return Object(_.jsxs)("article",{className:"header",children:[Object(_.jsx)("h1",{className:"title",children:"\u0424\u0438\u043b\u0438\u0430\u043b\u044b"}),Object(_.jsxs)("div",{className:"header__wrapper",children:[Object(_.jsx)("div",{className:"header__input-wrapper",children:Object(_.jsx)(T.a,{className:"header__search",placeholder:"\u041f\u043e\u0438\u0441\u043a",value:this.props.searchText,onChange:function(t){return e.props.addSearchQuery(t)}})}),Object(_.jsx)(M.a,{onClick:this.props.addModal,className:"btn",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]})]})}}]),a}(n.Component)),H=Object(E.b)((function(e){return{searchText:e.filterReducer.searchText}}),{addModal:v,addSearchQuery:function(e){return function(){var t=Object(m.a)(j.a.mark((function t(a){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.target.value,a({type:p.ADDTEXT,payload:n});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})(C),P=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.props.getItems()}},{key:"render",value:function(){return Object(_.jsx)("main",{className:"wrapper",children:Object(_.jsxs)("div",{className:"container",children:[Object(_.jsx)(H,{}),Object(_.jsx)(g,{})]})})}}]),a}(c.a.Component),X=Object(E.b)(null,{getItems:function(){return function(){var e=Object(m.a)(j.a.mark((function e(t){var a,n,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x();case 2:for(c in a=e.sent,t({type:f.GET,payload:a}),n=Object.assign({},a[0]))n[c]="";t({type:h.TEMPLATE,payload:n});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(P),G=a(28),W=a(6),F={newItem:{}},q={addModal:!1,deleteModal:!1,modalItem:{}},J={searchText:""},Q=a(58),V=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||G.d,B=Object(G.e)(Object(G.c)({itemsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.GET:return Object(W.a)(Object(W.a)({},e),{},{items:t.payload});case f.ADD:return Object(W.a)(Object(W.a)({},e),{},{items:t.payload,newItem:{}});case f.DELETE:return Object(W.a)(Object(W.a)({},e),{},{items:t.payload});case h.TEMPLATE:return Object(W.a)(Object(W.a)({},e),{},{newItem:t.payload});case h.PHONE:return Object(W.a)(Object(W.a)({},e),{},{newItem:Object(W.a)(Object(W.a)({},e.newItem),{},{phone:[t.payload]})});case h.ADDRESS:return Object(W.a)(Object(W.a)({},e),{},{newItem:Object(W.a)(Object(W.a)({},e.newItem),{},{address:t.payload})});default:return e}},modalsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h.ADD:return Object(W.a)(Object(W.a)({},e),{},{addModal:!e.addModal});case h.DELETESHOW:return Object(W.a)(Object(W.a)({},e),{},{deleteModal:!0,modalItem:t.payload});case h.DELETEHIDE:return Object(W.a)(Object(W.a)({},e),{},{deleteModal:!1,modalItem:t.payload});default:return e}},filterReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p.ADDTEXT:return Object(W.a)(Object(W.a)({},e),{},{searchText:t.payload});default:return e}}}),{},V(Object(G.a)(Q.a)));s.a.render(Object(_.jsx)(c.a.StrictMode,{children:Object(_.jsx)(E.a,{store:B,children:Object(_.jsx)(X,{})})}),document.getElementById("root"))}},[[81,1,2]]]);
//# sourceMappingURL=main.f054f88e.chunk.js.map