{"version":3,"sources":["constants.js","api/api.js","redux/actions/modalActions.js","components/main/tableItem/tableItem.js","components/main/tableHead/tableHead.js","components/modals/addModal.js","redux/actions/itemsActions.js","components/modals/deleteModal.js","redux/items-selectors.js","components/main/main.js","components/header/header.js","redux/actions/filterActions.js","App.js","redux/reducers/itemsReducer.js","redux/reducers/modalsReducer.js","redux/reducers/filterReducer.js","redux/store.js","index.js"],"names":["items","modal","ITEMS","GET","DELETE","ADD","MODAL","DELETESHOW","DELETEHIDE","TEMPLATE","PHONE","ADDRESS","FILTER","ADDTEXT","itemsAPI","fetch","then","response","json","addModal","dispatch","type","TableItem","this","props","item","address","phone","manager","administrator","status","className","data-label","index","map","number","onClick","deleteModalShow","Component","connect","getState","modalsReducer","modalItem","payload","TableHead","filter","state","showModal","itemsReducer","newItem","addItem","e","preventDefault","newState","slice","newRow","id","Date","now","toString","push","addPhone","result","target","value","addAddress","modalRef","useRef","keyPress","useCallback","key","useEffect","document","addEventListener","removeEventListener","ref","current","onSubmit","htmlFor","onChange","required","defaultValue","pattern","htmlType","deleteModal","deleteItem","row","deleteModalHide","getCarts","getSearchText","filterReducer","searchText","getSearchSelector","createSelector","carts","newArray","iterator","String","includes","Main","Header","placeholder","addSearchQuery","a","App","getItems","React","templateItem","Object","assign","initialState","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","combineReducers","action","applyMiddleware","thunk","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.f054f88e.chunk.js","sourcesContent":["export const url = \"data.json\"\r\n\r\nconst items = 'ITEM_'\r\nconst modal = 'MODAL_'\r\nconst filter = \"FILTER_\"\r\nexport const ITEMS = {\r\n  GET:`${items}GET`,\r\n  DELETE:`${items}DELETE`,\r\n  ADD:`${items}ADD`\r\n}\r\nexport const MODAL = {\r\n  ADD:`${modal}ADD`,\r\n  DELETESHOW:`${modal}DELETESHOW`,\r\n  DELETEHIDE:`${modal}DELETEHIDE`,\r\n  TEMPLATE: `${modal}TEMPLATE`,\r\n  PHONE: `${modal}PHONE`,\r\n  ADDRESS: `${modal}ADDRESS`\r\n}\r\nexport const FILTER = {\r\n  ADDTEXT: `${filter}ADDTEXT`,\r\n}","import {url} from '../constants'\r\n\r\nexport const itemsAPI = {\r\n getItems() {\r\n   return fetch(url).then(response => response.json())\r\n  }\r\n}","import {MODAL} from \"../../constants\";\r\n\r\nexport const addModal =() => (dispatch) => {\r\n  dispatch({\r\n    type: MODAL.ADD\r\n  })\r\n}\r\nexport const deleteModalShow = (item) => (dispatch,getState) => {\r\n  let arrayy = getState().modalsReducer.modalItem\r\n  arrayy = item\r\n  dispatch({\r\n    type: MODAL.DELETESHOW,\r\n    payload: arrayy\r\n  })\r\n}\r\nexport const deleteModalHide = () => (dispatch,getState) => {\r\n  let arrayy = getState().modalsReducer.modalItem\r\n  arrayy = {}\r\n  dispatch({\r\n    type: MODAL.DELETEHIDE,\r\n    payload: arrayy\r\n  })\r\n}\r\nexport const addPhone = (e) => (dispatch) => {\r\n  const result = e.target.value\r\n  dispatch({\r\n    type: MODAL.PHONE,\r\n    payload: result\r\n  })\r\n}\r\nexport const addAddress = (e) => (dispatch) => {\r\n  const result = e.target.value\r\n  dispatch({\r\n    type: MODAL.ADDRESS,\r\n    payload: result\r\n  })\r\n}","import React, {Component} from 'react';\r\nimport {connect} from 'react-redux'\r\nimport {deleteModalShow} from \"../../../redux/actions/modalActions\";\r\nimport './tableItem.scss'\r\nclass TableItem extends Component {\r\n\r\n  render() {\r\n\r\n    const {address, phone, manager, administrator, status} = this.props.item\r\n\r\n    return (\r\n      <tr className={'table-item'}>\r\n        <td data-label={\"№\"}>\r\n          {this.props.index}\r\n        </td>\r\n        <td data-label={\"Адрес\"} className={\"table-item__address\"}>\r\n          {address}\r\n          <p className={\"table-item__city\"}>Новосибирск</p>\r\n        </td>\r\n        <td data-label={\"Телефон\"}>\r\n          {phone.map(number => <div>{number}</div>)}\r\n        </td>\r\n        <td data-label={\"Управляющий офиса\"}>\r\n          {manager}\r\n        </td>\r\n        <td data-label={\"Администратор офиса\"}>\r\n          {administrator}\r\n        </td>\r\n        <td data-label={\"Статус\"}>\r\n          {status == \"Активный\" ?\r\n            <div className={'table-item__status table-item__status--active'}>Активный</div>\r\n            : <div className={'table-item__status table-item__status--unactive'}>Неактивный</div>}\r\n        </td>\r\n        <td data-label={\"Действия\"}>\r\n          <button onClick={() => this.props.deleteModalShow(this.props.item)}\r\n                  className={'close'}>\r\n          </button>\r\n        </td>\r\n      </tr>\r\n  )\r\n    ;\r\n  }\r\n}\r\n\r\nexport default connect(null,{deleteModalShow})(TableItem);","import React, {Component} from 'react';\r\nimport './tableHead.scss'\r\nclass TableHead extends Component {\r\n  render() {\r\n\r\n    return (\r\n      <th>\r\n        {this.props.filter}\r\n      </th>\r\n    );\r\n  }\r\n}\r\n\r\nexport default TableHead;","import React, {useEffect,useCallback,useRef} from 'react';\r\nimport {connect} from 'react-redux'\r\nimport {addModal, addPhone, addAddress} from \"../../redux/actions/modalActions\";\r\nimport {addItem} from \"../../redux/actions/itemsActions\";\r\nimport './modals.scss'\r\nimport {Button, Input} from \"antd\";\r\n\r\nfunction AddModal(props) {\r\n  const modalRef = useRef()\r\n  const closeModal = e => {\r\n    if(modalRef.current === e.target) {\r\n      props.addModal()\r\n    }\r\n  }\r\n  const keyPress = useCallback(\r\n    e => {\r\n\r\n      if (e.key === 'Escape' && props.showModal) {\r\n        props.addModal()\r\n      }\r\n    },\r\n  );\r\n  useEffect(\r\n    ()=> {\r\n      document.addEventListener('keydown', keyPress)\r\n      return () => document.removeEventListener('keydown', keyPress)\r\n    }\r\n  )\r\n\r\n  return (\r\n    <article ref={modalRef} onClick={closeModal} className={\"modal-form\"}>\r\n      <div className={\"modal-form__wrap\"}>\r\n\r\n          <div className={\"modal-form__header\"}>\r\n            <h3 className={\"modal-form__title\"}>Добавление филиала</h3>\r\n            <button className={\"close modal-form__close\"} type={\"button\"} onClick={() => props.addModal()}></button>\r\n          </div>\r\n          <div className={\"modal-form__content\"}>\r\n            <form onSubmit={(e) => props.addItem(e)}>\r\n              <div className={\"modal-form__item\"}>\r\n                <label className={\"modal-form__label\"} htmlFor=\"\">Адрес</label>\r\n                <Input className={\"modal-form__input\"} type=\"text\" value={props.address} onChange={(e)=> props.addAddress(e)} required defaultValue=\"0571\" />\r\n\r\n              </div>\r\n              <div className={\"modal-form__item\"}>\r\n                <label className={\"modal-form__label\"} htmlFor=\"\">Телефон</label>\r\n                <Input className={\"modal-form__input\"} pattern=\"[789][0-9]{9}\" type=\"phone\" value={props.phone} onChange={(e)=> props.addPhone(e)} required/>\r\n              </div>\r\n              <div className={\"modal-form__controls\"}>\r\n                <Button className={'btn'} type={\"submit\"}  htmlType={\"submit\"}>Сохранить</Button>\r\n                <Button className={'btn btn--cancel'} type={\"button\"} onClick={() => props.addModal()}>Отмена</Button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n\r\n      </div>\r\n\r\n    </article>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  showModal:state.modalsReducer.addModal,\r\n  phone: state.itemsReducer.newItem.phone,\r\n  address: state.itemsReducer.newItem.address,\r\n})\r\n\r\nexport default connect(mapStateToProps, {addModal, addItem, addPhone,addAddress})(AddModal);","import {ITEMS, MODAL} from \"../../constants\";\r\nimport {itemsAPI} from \"../../api/api\";\r\n\r\nexport const getItems = () => async (dispatch) => {\r\n  const response = await itemsAPI.getItems()\r\n  dispatch({\r\n    type: ITEMS.GET,\r\n    payload: response\r\n  })\r\n\r\n  const templateItem = Object.assign({},response[0])\r\n  for(let key in templateItem) {\r\n    templateItem[key] = \"\"\r\n  }\r\n\r\n  dispatch({\r\n    type: MODAL.TEMPLATE,\r\n    payload: templateItem\r\n  })\r\n}\r\nexport const deleteItem = (row) => (dispatch, getState) => {\r\n  const items = getState().itemsReducer.items.slice()\r\n\r\n  const result = items.filter(item => item.id !== row.id)\r\n  dispatch({\r\n    type: ITEMS.DELETE,\r\n    payload: result\r\n  })\r\n  dispatch({\r\n    type: MODAL.DELETEHIDE\r\n  })\r\n}\r\nexport const addItem = (e) => (dispatch,getState) => {\r\n  e.preventDefault()\r\n  const newState = getState().itemsReducer.items.slice()\r\n  const newRow = getState().itemsReducer.newItem\r\n  newRow.id = Date.now().toString()\r\n  newState.push(newRow)\r\n  dispatch({\r\n    type: ITEMS.ADD,\r\n    payload:newState\r\n  })\r\n  dispatch({\r\n    type: MODAL.ADD\r\n  })\r\n\r\n}","import React, {useRef,useCallback,useEffect} from 'react';\r\nimport {connect} from 'react-redux'\r\nimport {deleteItem} from '../../redux/actions/itemsActions'\r\nimport {deleteModalHide} from '../../redux/actions/modalActions'\r\nimport './deleteModal.scss'\r\nimport './modals.scss'\r\nimport {Button} from \"antd\";\r\nfunction DeleteModal(props) {\r\n  const modalRef = useRef()\r\n  const closeModal = e => {\r\n    if(modalRef.current === e.target) {\r\n      props.deleteModalHide()\r\n    }\r\n  }\r\n  const keyPress = useCallback(\r\n    e => {\r\n\r\n      if (e.key === 'Escape' && props.showModal) {\r\n        props.deleteModalHide()\r\n      }\r\n    },\r\n  );\r\n  useEffect(\r\n    ()=> {\r\n      document.addEventListener('keydown', keyPress)\r\n      return () => document.removeEventListener('keydown', keyPress)\r\n    }\r\n  )\r\n  return (\r\n    <article ref={modalRef} onClick={closeModal} className={\"modal-form\"}>\r\n      <div className={\"modal-form__wrap\"}>\r\n        <div className={\"modal-form__header\"}>\r\n          <h3 className={\"modal-form__title\"}>Удаление филиала</h3>\r\n          <button className={\"close modal-form__close\"} onClick={() => props.deleteModalHide()}></button>\r\n        </div>\r\n        <div className={\"modal-form__content\"}>\r\n          <div className={\"modal-form__content--text\"}>\r\n            <p className={\"modal-form__approve-text\"}>Вы действительно хотите удалить филиал:</p>\r\n            <p className={\"modal-form__address\"}>{props.item.address}</p>\r\n          </div>\r\n          <div className={\"modal-form__controls\"}>\r\n            <Button className={'btn btn--delete'} type={\"submit\"} onClick={() => props.deleteItem(props.item)}>Удалить</Button>\r\n            <Button className={'btn btn--cancel'} type={\"button\"} onClick={() => props.deleteModalHide()}>Отмена</Button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n    </article>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  showModal:state.modalsReducer.deleteModal,\r\n  item:state.modalsReducer.modalItem\r\n\r\n})\r\nexport default connect(mapStateToProps,{deleteItem,deleteModalHide})(DeleteModal);","import {createSelector} from \"reselect\";\r\n\r\nexport const getCarts = (state) => {\r\n  return state.itemsReducer.items\r\n}\r\n\r\nexport const getSearchText = (state) => {\r\n  return state.filterReducer.searchText\r\n}\r\n\r\nexport const getSearchSelector = createSelector(getCarts, getSearchText,\r\n(carts, searchText) => {\r\n\r\n  const newArray = []\r\n  carts.map(item => {\r\n    let iterator = 0\r\n    for (let key in item) {\r\n      if(String(item[key]).includes(searchText)) {\r\n        iterator++\r\n      }\r\n    }\r\n    if (iterator) {\r\n      newArray.push(item)\r\n    }\r\n  })\r\n\r\n  return newArray\r\n})\r\n\r\n","import React, {Component} from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport TableItem from \"./tableItem/tableItem\";\r\nimport TableHead from \"./tableHead/tableHead\";\r\nimport AddModal from \"../modals/addModal\";\r\nimport DeleteModal from \"../modals/deleteModal\";\r\nimport './main.scss'\r\nimport {getCarts, getSearchSelector,getSearchText} from \"../../redux/items-selectors\";\r\nclass Main extends Component {\r\n\r\n  render() {\r\n  const [number,address,phone,manager,administrator,status,action]\r\n  = [\"№\",\"Адрес\",\"Телефон\",\"Управляющий офиса\",\"Администратор офиса\", \"Статус\", \"Действия\"]\r\n\r\n    return (\r\n      <div>\r\n        <table className={\"main-table\"}>\r\n          <thead className={'main-table__head'}>\r\n          <tr className={'main-table__row'}>\r\n            <TableHead filter={number}/>\r\n            <TableHead filter={address}/>\r\n            <TableHead filter={phone}/>\r\n            <TableHead filter={manager}/>\r\n            <TableHead filter={administrator}/>\r\n            <TableHead filter={status}/>\r\n            <TableHead filter={action}/>\r\n          </tr>\r\n          </thead>\r\n          <tbody>\r\n          {this.props.items &&\r\n          this.props.items.map((item,index) =>\r\n            <TableItem key={item.id} index={index+1} item={item}/>)}\r\n          </tbody>\r\n        </table>\r\n        {this.props.deleteModal && <DeleteModal/>}\r\n        {this.props.addModal && <AddModal/>}\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = (state) => {\r\n\r\n  const {deleteModal, addModal} = state.modalsReducer\r\n  return {\r\n    items: (getSearchText(state)\r\n      ? getSearchSelector(state) : getCarts(state)),\r\n    deleteModal,\r\n    addModal\r\n  }\r\n}\r\nexport default connect(mapStateToProps,null)(Main);","import React, {Component} from 'react';\r\nimport {connect} from 'react-redux'\r\nimport {addModal} from \"../../redux/actions/modalActions\";\r\nimport {addSearchQuery} from \"../../redux/actions/filterActions\";\r\nimport './header.scss'\r\nimport {Button, Input} from \"antd\";\r\n\r\nclass Header extends Component {\r\n  render() {\r\n    return (\r\n      <article className={'header'}>\r\n        <h1 className={'title'}>Филиалы</h1>\r\n        <div className={'header__wrapper'}>\r\n          <div className={'header__input-wrapper'}>\r\n            <Input className={\"header__search\"} placeholder=\"Поиск\" value={this.props.searchText} onChange={(e)=> this.props.addSearchQuery(e)}  />\r\n          </div>\r\n          <Button onClick={this.props.addModal} className={'btn'}>Добавить</Button>\r\n        </div>\r\n      </article>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = (state) => ({\r\n  searchText: state.filterReducer.searchText\r\n})\r\nexport default connect(mapStateToProps,{addModal, addSearchQuery})(Header);","import {FILTER, ITEMS} from \"../../constants\";\r\nimport {itemsAPI} from \"../../api/api\";\r\n\r\nexport const addSearchQuery =  (e) =>  async (dispatch) => {\r\n\r\n  const result = e.target.value\r\n\r\n\r\n  dispatch({\r\n    type: FILTER.ADDTEXT,\r\n    payload: result\r\n  })\r\n}\r\n","import React from 'react'\nimport {getItems} from \"./redux/actions/itemsActions\";\nimport 'antd/dist/antd.css'\nimport './App.scss'\nimport {connect} from \"react-redux\";\nimport Main from \"./components/main/main\";\nimport Header from \"./components/header/header\";\n\n\nclass App extends React.Component {\n\n  componentDidMount() {\n  this.props.getItems()\n  }\n  render() {\n    return (\n      <main className={'wrapper'}>\n        <div className={'container'}>\n          <Header/>\n          <Main/>\n        </div>\n      </main>\n    );\n  }\n}\n\nexport default connect(null,{getItems})(App);\n","import {ITEMS, MODAL} from \"../../constants\";\r\nconst initialState = {\r\n  newItem:{\r\n  }\r\n}\r\nexport const itemsReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ITEMS.GET:\r\n      return {...state, items: action.payload}\r\n    case ITEMS.ADD:\r\n      return {...state, items:action.payload, newItem: {}}\r\n    case ITEMS.DELETE:\r\n      return {...state, items: action.payload}\r\n    case MODAL.TEMPLATE:\r\n      return {...state, newItem: action.payload}\r\n    case MODAL.PHONE:\r\n      return {...state,newItem: {...state.newItem, phone: [action.payload]}}\r\n    case MODAL.ADDRESS:\r\n      return {...state, newItem: {...state.newItem, address: action.payload}}\r\n     default:\r\n      return state\r\n  }\r\n}","import {MODAL} from \"../../constants\";\r\n\r\nlet initialState = {\r\n  addModal: false,\r\n  deleteModal: false,\r\n  modalItem: {},\r\n}\r\nexport const modalsReducer = (state = initialState,action) => {\r\nswitch (action.type) {\r\n  case MODAL.ADD:\r\n    return {...state,addModal: !state.addModal}\r\n  case MODAL.DELETESHOW:\r\n    return {...state, deleteModal: true, modalItem: action.payload}\r\n  case MODAL.DELETEHIDE:\r\n    return {...state, deleteModal: false, modalItem: action.payload}\r\n  default:\r\n    return state\r\n}\r\n}","import {FILTER} from \"../../constants\";\r\n\r\nconst initialState = {\r\n\r\n  searchText: \"\"\r\n}\r\nexport const filterReducer = (state=initialState, action) => {\r\n  switch (action.type){\r\n    case FILTER.ADDTEXT:\r\n      return {...state, searchText: action.payload}\r\n    default:\r\n      return state\r\n  }\r\n}","import {createStore, combineReducers, applyMiddleware, compose} from \"redux\";\r\nimport {itemsReducer} from './reducers/itemsReducer'\r\nimport {modalsReducer} from './reducers/modalsReducer'\r\nimport {filterReducer} from \"./reducers/filterReducer\";\r\nimport thunk from \"redux-thunk\";\r\nconst initialState = {}\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(combineReducers(\r\n  {\r\n    itemsReducer,\r\n    modalsReducer,\r\n    filterReducer\r\n  }\r\n),\r\n  initialState,\r\n  composeEnhancers(applyMiddleware(thunk)))\r\nexport default store","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport {Provider} from \"react-redux\";\nimport store from \"./redux/store\";\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}